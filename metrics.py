import numpy as np
import matplotlib.pyplot as plt

data = np.array([[[ 4., 10., 22.,  3., 11., 11.,  6.,  7.,  7., 18.],
        [ 3.,  8., 16.,  3.,  8., 14.,  6.,  7.,  8., 19.],
        [ 3., 12., 15.,  3.,  9., 13.,  6.,  9.,  8., 17.],
        [ 2., 10., 23.,  5.,  5., 11.,  7., 11., 10., 13.],
        [ 1.,  8., 19.,  5.,  6., 16.,  3., 13., 11., 14.],
        [ 1.,  6., 21.,  5.,  5., 14.,  3., 13.,  9., 20.],
        [ 3.,  6., 24.,  3.,  6.,  9.,  4.,  9., 10., 19.],
        [ 2., 11., 24.,  2.,  4., 11.,  7., 12.,  9., 16.],
        [ 2.,  9., 27.,  0.,  2., 16.,  5., 12.,  9., 12.],
        [ 2., 12., 27.,  2.,  5., 20.,  4., 13., 10., 11.]],

       [[ 0.,  3.,  6.,  6., 36., 23.,  9., 12., 10.,  3.],
        [ 0.,  4.,  6.,  5., 41., 21.,  9., 13., 14.,  2.],
        [ 2.,  4.,  8.,  6., 48., 26.,  8., 12., 12.,  1.],
        [ 2.,  4.,  7.,  5., 43., 27.,  8.,  9.,  8.,  0.],
        [ 1.,  3.,  5.,  3., 43., 26., 10.,  8.,  7.,  1.],
        [ 1.,  1.,  3.,  2., 39., 27., 17., 10., 13.,  2.],
        [ 2.,  2.,  4.,  4., 34., 28., 13., 11., 14.,  1.],
        [ 1.,  3.,  5.,  3., 30., 28., 13., 11., 11.,  0.],
        [ 3.,  1.,  6.,  5., 31., 21., 19., 10., 11.,  2.],
        [ 4.,  5.,  7.,  4., 32., 19., 21., 12., 11.,  1.]],

       [[ 4.,  9.,  5.,  7., 16., 10.,  7., 10., 10.,  2.],
        [ 3., 11.,  3.,  6., 18., 14.,  6., 11., 10.,  3.],
        [ 1.,  9.,  7.,  6., 17., 17.,  7., 11.,  7.,  0.],
        [ 0.,  8.,  7.,  7., 16., 15.,  4., 15.,  9.,  1.],
        [ 0.,  9.,  9.,  8., 14., 21.,  8., 13.,  9.,  1.],
        [ 2., 11., 11.,  5., 11., 15.,  7., 14., 12.,  2.],
        [ 1., 12.,  9.,  9., 10., 19.,  6., 10.,  9.,  2.],
        [ 1.,  9., 10.,  8., 12., 19., 12., 12., 10.,  0.],
        [ 2., 13., 10.,  7., 12., 18., 10., 20., 13.,  0.],
        [ 2., 11., 11.,  6., 12., 21., 11., 17., 10.,  1.]],

       [[12.,  2.,  3.,  1.,  6., 16.,  4., 10.,  7.,  1.],
        [ 4.,  2.,  3.,  5.,  5., 22.,  4., 13.,  8.,  2.],
        [ 5.,  2.,  2.,  7.,  6., 14.,  6., 13.,  6.,  2.],
        [ 5.,  2.,  2.,  5.,  5., 18., 10., 12.,  2.,  0.],
        [ 7.,  3.,  2.,  3.,  7., 22.,  9., 14.,  4.,  1.],
        [11.,  5.,  2.,  1.,  6., 20., 10.,  9.,  5.,  1.],
        [ 7.,  6.,  2.,  1.,  4., 21.,  8.,  8.,  3.,  1.],
        [ 7.,  4.,  2.,  2.,  8., 24.,  4.,  8.,  2.,  0.],
        [ 6.,  5.,  3.,  2.,  7., 18.,  4., 10.,  1.,  0.],
        [ 8.,  4.,  3.,  2.,  7., 22.,  7., 15.,  1.,  2.]]])


coverage = 0 
overlap = []
hist = []
col_sums = []

n = np.prod(data.shape)
walls, height, width = data.shape
for i in range(walls) :
	for j in range(height) :
		for k in range(width) :
			hist.append(data[i][j][k])
			if data[i][j][k] > 2 :
				coverage += 1
				overlap.append(data[i][j][k])

order = [0, 3, 1, 2]
for i in order :
	for j in range(width) :
		col_sums.append(np.average(data[i, :, j]))

print("coverage: ", coverage / float(n))
print("overlap: ", np.average(overlap))
# print(col_sums)
plt.plot(col_sums)
plt.savefig('data/top_20_cov.png')
plt.close()
# plt.show()

plt.hist(col_sums, bins="auto")
plt.savefig('data/top_20_hist.png')
plt.close()
# plt.show()



